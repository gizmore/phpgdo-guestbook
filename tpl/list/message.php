<?phpuse GDO\UI\GDT_ListItem;use GDO\UI\GDT_Button;use GDO\Guestbook\Module_Guestbook;use GDO\UI\GDT_Container;use GDO\UI\GDT_EditButton;use GDO\User\GDO_User;/** @var $gdo \GDO\Guestbook\GDO_GuestbookMessage **/
$gb = $gdo->getGuestbook();$mod = Module_Guestbook::instance();$list = GDT_ListItem::make('gbm-' . $gdo->getID());$list->gdo($gdo);$list->creatorHeader();$list->content($gdo->gdoColumn('gbm_message'));if ($gdo->canApprove()){    $list->actions()->addField(GDT_Button::make('btn_approve')->href($gdo->hrefApprove()));}if ($gdo->canDelete()){    $confirmText = t('confirm_delete');    $deleteButton = GDT_Button::make('btn_delete')->attr('onclick', "return confirm('{$confirmText}')")->href($gdo->hrefDelete())->icon('delete');    $list->actions()->addField($deleteButton);    $editButton = GDT_EditButton::make('btn_edit')->href($gdo->hrefEdit());    $list->actions()->addField($editButton);}# Add email / website if allowed$email =  $website = null;if ($mod->cfgAllowEMail() && $gb->isEMailAllowed()){    if ($gdo->canSeeMail(GDO_User::current()))    {        $email = $gdo->gdoColumn('gbm_email');    }}if ($mod->cfgAllowURL() && $gb->isURLAllowed()){    $website = $gdo->gdoColumn('gbm_website');}if ( ($email && $email->getVar()) || ($website && $website->getVar()) ){    $box = GDT_Container::make()->horizontal();    if ($email && $email->getVar())    {        $box->addField($email);    }    if ($website && $website->getVar())    {        $box->addField($website);    }    $list->subtext($box);}echo $list->renderCell();